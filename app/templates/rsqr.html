{% extends "base.html" %}
{% block content %}
<style>
  .form-label {
    font-weight: 600;
    margin-bottom: 1px;
    display: block;
  }
  .input-row {
    margin-bottom: 18px;
    display: flex;
    flex-direction: column;
  }
  input[type="text"], input[type="file"], textarea, select {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    padding: 7px 14px;
    border-radius: 4px;
    border: 1px solid #ced4da;
    font-size: 1rem;
  }
  .form-control, .form-select, .form-control-file {
    width: 100% !important;
    max-width: 100% !important;
  }
  .form-buttons {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    margin-top: 24px;
  }
</style>

<div class="container">
  <div class="card">
    <h1>Step 1: RSQR Details</h1>
    <form method="POST" enctype="multipart/form-data">
      {{ form.hidden_tag() }}

      <div class="input-row">
        <label class="form-label">Title <span style="color:red">*</span>:</label>
        {{ form.title(class="form-control", required=True) }}
      </div>

      <div class="input-row">
        <label class="form-label">Requirements <span style="color:red">*</span>:</label>
        {{ form.requirements(class="form-control", required=True) }}
      </div>

      <div class="input-row">
        <label class="form-label">Justification <span style="color:red">*</span>:</label>
        {{ form.justification(class="form-control", required=True) }}
      </div>

      <div class="input-row">
        <label class="form-label">Deliverables <span style="color:red">*</span>:</label>
        {{ form.deliverables(class="form-control", required=True) }}
      </div>

      <div class="input-row">
        <label class="form-label">Upload PDF:</label>
        {{ form.pdf_file(class="form-control-file") }}

        {% if project and project.rsqr and project.rsqr.pdf_filename %}
          <p class="uploaded-file-link mt-2">
            Already uploaded:
            <a href="{{ url_for('static', filename='uploads/rsqr/' ~ project.rsqr.pdf_filename) }}" target="_blank">
              {{ project.rsqr.pdf_filename }}
            </a>
          </p>
        {% endif %}
      </div>

        <div class="d-flex justify-content-end gap-2 mt-4">
                <button type="submit" name="save" class="btn btn-success"><i class="bi bi-save"></i> Save</button>
                <button type="submit" name="next" class="btn btn-primary"><i class="bi bi-arrow-right"></i> Next</button>
            </div>
    </form>
  </div>
</div>
{% endblock %}
